<div class="w-full text-center">
  <div class="mx-auto">

    <div class="flex justify-between items-center mb-8">
      <h1 class="font-bold text-3xl">Cita</h1>
      <%= link_to 'Regresar', service_slots_path(@event.service), class: "rounded-lg py-3 px-5 bg-gray-100 block font-medium" %>
    </div>

    <% if notice.present? %>
      <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
    <% end %>

    <%= render @event %>

    <div class="flex flex-col items-center">
      <% if @event.booked? %>
        <% unless current_user.owns?(@event.service) %>
          <%= link_to 'Reportar pago',
            edit_payment_path(@event.payment),
            class: "mt-3 rounded-lg py-3 px-5 bg-green-200 font-medium" if @event.payment.pending? %>
        <% else %>
          <% unless @event.payment.pending? %>
            <%= link_to 'Ver pago',
              edit_payment_path(@event.payment),
              class: "mt-3 rounded-lg py-3 px-5 bg-green-200 font-medium"
            %>
          <% else %>
            <%= link_to 'Reportar pago pendiente',
              edit_payment_path(@event.payment),
              class: "mt-3 rounded-lg py-3 px-5 bg-yellow-200 font-medium" if @event.past? %>
          <% end %>
        <% end %>
      <% end %>
      <%= button_to @event.blocked? ? 'Desbloquear esta cita' : 'Cancelar esta cita',
        event_path(@event),
        method: :delete,
        form: { data: { turbo_confirm: "Â¿Confirmas que deseas proceder?" } },
        class: "mt-3 rounded-lg py-3 px-5 bg-red-200 font-medium" unless @event.past?
      %>
    </div>
  </div>
</div>
